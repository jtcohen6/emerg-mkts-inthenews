keyword("South Korea")
ncol(forbes.tbl)+1
ncol(forbes.tbl)
ncol(forbes.tbl)+2
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <- findings; str(forbes.tbl) }
keyword("China")
keyword("South Korea")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; str(forbes.tbl) }
keyword("China")
keyword("South Korea")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <<- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; str(forbes.tbl) }
keyword("China")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("China")
keyword("South Korea")
keyword("China")
keyword("South Korea")
forbes.tbl <- forbes.tbl.backup
findings <- rep(0,times=n)
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword <- function(string) { forbes.tbl[,ncol(forbes.tbl)+1] <- searches
search_all(string)}
keyword("China")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("China")
keyword("China")
keyword("South Korea")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
names(forbes.tbl)[new.col] <<- string
forbes.tbl[,new.col] <- 0
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("China")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("China")
keyword("China")
forbes.tbl <- forbes.tbl.backup
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
names(forbes.tbl)[new.col] <- string
forbes.tbl[,new.col] <- 0
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings; names(forbes.tbl)[new.col] <<- string; str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <<- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <<- findings
str(forbes.tbl) }
keyword("Russia")
keyword <- function(string) { new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- 0
names(forbes.tbl)[new.col] <- string
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <- findings
names(forbes.tbl)[new.col] <- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword("Russia")
keyword("China")
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <- findings
names(forbes.tbl)[new.col] <- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword("Russia")
keyword("China")
keyword("China")
forbes.tbl <- forbes.tbl.backup
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
forbes.tbl[,new.col] <- findings
names(forbes.tbl)[new.col] <- string
str(forbes.tbl) }
keyword("Russia")
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <- findings
names(forbes.tbl)[new.col] <- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword("oil")
keyword("Middle East")
forbes.tbl
forbes.tbl <- forbes.tbl.backup
forbes_art(45)
forbes_art(1123)
forbes_art(45)
WC.line <- grep("words$", forbes_art(48))
as.numeric(gsub("[^[:digit:]]","",forbes1220[WC.line]))
forbes1220[WC.line]
WC.line <- grep("words$", forbes_art(34))
WC.line
forbes1220[WC.line]
forbes_art(i)[WC.line]
forbes_art(34)[WC.line]
art <- forbes_art(34)
WC_line <- grep("words$", art)
art[WC_line]
art[WC_line+1]
strsplit(art[WC_line + 1]," ")
strsplit(art[WC_line + 1]," ")[[1]]
months("January")
art[WC_line + 1]
gsub(month.name, month.abb, "January")
gsub(month.name, month.abb, "February")
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
forbes.tbl[i,"DATE"] <- art[WC_line + 1]  # date in next line
}
str(forbes.tbl) # check my work
forbes.tbl.backup <- forbes.tbl # just in case
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword("oil")
keyword("Middle East")
forbes.tbl <- forbes.tbl.backup
strsplit(art[WC_line + 1]," ")[[1]]
date <- gsub("PD \t","",art[WC_line + 1])
date
strsplit(date," ")[[1]]
month.name[date[2]]
date[2]
date <- gsub("PD \t","",art[WC_line + 1])
strsplit(date," ")[[1]]
date[2]
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
date[2]
month.name[date[2]]
month.name[1]
month.name["January"]
grep(date[2],month.name)
as.Date(grep(date[2],month.name),date[1],date[3])
paste(grep(date[2],month.name),date[1],date[3])
paste(grep(date[2],"/"month.name),"/"date[1],date[3])
paste(grep(date[2],"/"month.name),"/",date[1],date[3])
paste(grep(date[2],month.name),"/",date[1],"/",date[3])
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep="")
as.Date(paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""))
Date(0001-01-20)
art <- forbes_art(78)
WC_line <- grep("words$", art)
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
as.Date(paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""))
date
grep(date[2]),month.name)
grep(date[2],month.name)
as.Date(paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""))
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep="")
as.Date("7/24/2006")
as.Date("07/24/2006")
as.Date("7/24/2006","%m/%d/%y")
as.Date(paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
forbes1220 <- readLines("forbes1198.ansi.txt") # dataset
n <- 1220 # number of articles
search_forbes <- function(start,end) { forbes1220[start:end] } # search function
art_end <- grep("Document FB|Document NA|Document FF",forbes1220) # ending line
art_start <- c(1,art_end[-n]+1) # starting line, based on ending line
forbes_art <- function(art_num) { search_forbes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
forbes.tbl.backup <- forbes.tbl # just in case
forbes.tbl <- forbes.tbl.backup
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword("oil")
keyword("Middle East")
rm(forbes.tbl$Middle East)
forbes.tbl$Middle East
forbes.tbl$Middle.East
forbes.tbl$Middle-East
forbes.tbl$"Middle East"
rm(forbes.tbl$"Middle East")
display(forbes.tbl)
View(forbes.tbl)
max(forbes.tbl$WORDS)
hist(forbes.tbl$WORDS)
summary(forbes.tbl$WORDS)
forbes1220[66594]
forbes1220[66594:70500]
plot(forbes.tbl$DATE,forbes.tbl$Russia/forbes.tbl$WORDS)
plot(forbes.tbl$DATE,forbes.tbl$Russia)
plot(forbes.tbl$DATE,forbes.tbl$Russia/forbes.tbl$WORDS)
keyword("Bangladesh")
plot(forbes.tbl$DATE,forbes.tbl$China/forbes.tbl$WORDS)
plot(forbes.tbl$DATE,forbes.tbl$China/sqrt(forbes.tbl$WORDS))
## NEWS ANALYTICS ##
## PennApps XIII, Jeremy & Raghav (& Gus)
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
forbes1220 <- readLines("forbes1220.ansi.txt") # dataset
n <- 1220 # number of articles
search_forbes <- function(start,end) { forbes1220[start:end] } # search function
art_end <- grep("Document FB|Document NA|Document FF",forbes1220) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
forbes_art <- function(art_num) { search_forbes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
forbes.tbl.basic <- forbes.tbl # backup basic table (just in case!)
## the search engine
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
View(forbes.tbl)
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword("oil")
keyword("Middle East")
keyword("Bangladesh")
forbes.tbl <- forbes.tbl.basic # rewind as needed
keyword <- function(string, string2, string3) {
for (i in 1:n) { findings[i] <-
sum(grepl(paste(string,"|",string2,"|","string3",sep="", forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword <- function(string, string2, string3) {
for (i in 1:n) { findings[i] <-
sum(grepl(paste(string,"|",string2,"|","string3",sep=""), forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("China","Chinese")
keyword("China")
keyword <- function(string, string2="", string3="") {
for (i in 1:n) { findings[i] <-
sum(grepl(paste(string,"|",string2,"|",string3,sep=""), forbes_art(i))) }
forbes.tbl[,new.col] <<- findings
new.col <- ncol(forbes.tbl)+1
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("China","Chinese")
keyword <- function(string, string2="", string3="") {
for (i in 1:n) { findings[i] <-
sum(grepl(paste(string,"|",string2,"|",string3,sep=""), forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("China",string2="Chinese")
keyword("China")
forbes.tbl <- forbes.tbl.basic # rewind as needed
paste("China","|","Chinese","|","",sep="")
keyword("China")
keyword("China",string2="Chinese")
substr(forbes_art(45)," ")
strsplit(forbes_art(45)," ")
grepl("America",strsplit(forbes_art(45)," "))
forbes.tbl <- forbes.tbl.basic # rewind as needed
keyword("Russia")
keyword("China")
keyword("South Korea")
keyword <- function(string) {
forbes.tbl[,new.col] <<- findings
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
forbes.tbl <- forbes.tbl.basic # rewind as needed
keyword("Russia")
keyword("China")
keyword("South Korea")
findings <- rep(0,times=n) # initialize temp vector
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
keyword <- function(string) {
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
keyword("Russia")
keyword("China")
forbes.tbl <- forbes.tbl.basic # rewind as needed
keyword("South Korea")
keyword("South Korea")
keyword("China")
keyword("Russia")
for (i in 1:n) { print(sum(grepl("China", forbes_art(i)))) }
vec <- c(0); for (i in 1:n) { vec[i] <- (sum(grepl("China", forbes_art(i)))); vec }
vec <- c(0); for (i in 1:n) { vec[i] <- (sum(grepl("China", forbes_art(i)))); vec }
vec <- c(0); for (i in 1:n) { vec[i] <- (sum(grepl("China", forbes_art(i))))} ; vec
vec <- c(0); for (i in 1:n) { vec[i] <- (sum(grepl("Russia", forbes_art(i))))} ; vec
keyword("Russia")
forbes.tbl <- forbes.tbl.basic # rewind as needed
art_end <- grep("Document FB|Document NA|Document FF",forbes1220) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
forbes_art <- function(art_num) { search_forbes( art_start[art_num], art_end[art_num] ) }
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
forbes.tbl.basic <- forbes.tbl # backup basic table (just in case!)
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
View(forbes.tbl)
keyword("Russia")
keyword("China")
keyword("South Korea")
q()
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
ftimes20131 <- readLines("ftimes20131.txt") # dataset
ftimes20131
n <- 20131 # number of articles
search_ftimes <- function(start,end) { ftimes20131[start:end] } # search function
art_end <- grep("Document FT",ftimes20131) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
ftimes_art <- function(art_num) { search_ftimes( art_start[art_num], art_end[art_num] ) }
ftimes_art(45)
art <- ftimes_art(56)
WC_line <- grep("^WC \t", art)
WC_line
art[WC_line]
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
forbes.tbl[i,"DATE"] <- as.Date(
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
ftimes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
ftimes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
ftimes20189 <- readLines("ftimes20189.txt") # dataset
n <- 20189 # number of articles
search_ftimes <- function(start,end) { ftimes20189[start:end] } # search function
art_end <- grep("Document FT|Document EP",ftimes20189) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
ftimes_art <- function(art_num) { search_ftimes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
ftimes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
ftimes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
art_end <- grep("Document FT|Document EP|Document AI",ftimes20189) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
ftimes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
ftimes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
str(ftimes.tbl) # check my work
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(ftimes.tbl)+1
ftimes.tbl[,new.col] <<- findings
names(ftimes.tbl)[new.col] <<- string
str(ftimes.tbl) }
View(ftimes.tbl)
summary(ftimes.tbl$WORDS)
keyword("Russia")
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, ftimes_art(i))) }
new.col <- ncol(ftimes.tbl)+1
ftimes.tbl[,new.col] <<- findings
names(ftimes.tbl)[new.col] <<- string
str(ftimes.tbl) }
keyword("Russia")
ftimes.tbl$Russia/sqrt(ftimes.tbl$WORDS)
y <- ftimes.tbl$Russia/sqrt(ftimes.tbl$WORDS)
plot(ftimes.tbl$date,y)
plot(ftimes.tbl$DATE,ftimes.tbl$RUSSIA)
rm(list=ls())
q()
