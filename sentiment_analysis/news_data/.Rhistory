my.lookup(my.words)
my.words <- readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt")
my.lookup(my.words)
my.words <- readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt")
my.lookup(my.words)
(word,lang)
(word,lang)
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(gsub("\t\t","",word.study[grep("lemma_definition",word.study)+1]),collapse=" ; ") }
lookup("didaskousin","greek")
lookup.grk <- lookup(word,lang="greek")
lookup.grk("didaskousin")
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.defs[i,"DEFINITION"] <- lookup.grk(my.words[i]) }
my.lookup <- function(my.words) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup.grk(my.words[i]) }
print(my.defs) }
my.words <- readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt")
my.lookup(my.words)
my.lookup(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"),
"greek")
my.lookup(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"),
"la")
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup.grk(my.words[i]) }
print(my.defs) }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup.grk(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup.grk(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(my.words)
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.ltn(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.ltn(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.ltn(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.ltn(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.ltn(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(gsub("\t\t","",substring(word.study[grep("lemma_definition",word.study)+1],30),collapse=" ; ") }
substring("asdfffffffffffffffffffffffffffffffffffffffffffffffffffffffff",10)
substring("asdfffffffffffffffffffffffffffffffffffffffffffffffffffffffff",20)
substring("asdfffffffffffffffffffffffffffffffffffffffffffffffffffffffff",50)
substring("asdfffffffffffffffffffffffffffffffffffffffffffffffffffffffff",1,10)
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(substring(gsub("\t\t","",word.study[grep("lemma_definition",word.study)+1],1,30)),collapse=" ; ") }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(substring(gsub("\t\t","",word.study[grep("lemma_definition",word.study)+1]),1,30),collapse=" ; ") }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(substring(gsub("\t\t","",word.study[grep("lemma_definition",word.study)+1]),1,30),collapse=" ; ") }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(gsub("\t\t","",word.study[grep("lemma_definition",word.study)+1]),collapse=" ; "),1,30) }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</","",
word.study[grep("lemma_definition",word.study)+1])),
collapse=" ; "),1,100) }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</em>","",
word.study[grep("lemma_definition",word.study)+1])),
collapse=" ; "),1,100) }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</em>","",
word.study[grep("lemma_definition",word.study)+1])),
collapse=" ; "),1,100) }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
word.study[grep("lemma_definition",word.study)+1]),
collapse=" \n ") }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
word.study[grep("lemma_definition",word.study)+1]),
collapse="\n") }
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
paste(
gsub("\t\t","",
word.study[grep("lemma_definition",word.study)+1]),
collapse="\n") }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
gsub("<em>[definition unavailable]</em>","","nsuffer, permit\n<em>[definition unavailable]</em>\nsum\nwhe")
gsub("<em>[definition unavailable]</em>","","nsuffer, permit\n<em>[definition unavailable]</em>\nsum\nwhe")
grep("<em>[definition unavailable]</em>","","nsuffer, permit\n<em>[definition unavailable]</em>\nsum\nwhe")
<em>[definition unavailable]</em>"
"<em>[definition unavailable]</em>"
"<em>[definition unavailable]</em>"
grep("<em>[definition unavailable]</em>","<em>[definition unavailable]</em>")
grep("<em>[definition unavailable]</em>",c(1,124,"<em>[definition unavailable]</em>",6))
sub("<em>[definition unavailable]</em>","","<em>[definition unavailable]</em>")
sub("<em>[definition unavailable]</em>","a","<em>[definition unavailable]</em>")
sub("<em>[definition unavailable]</em>","a","<em>[definition unavailable]</em>",fixed=T)
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</em>",""
word.study[grep("lemma_definition",word.study)+1],
fixed=T)),
collapse=" ; "),1,100) }
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</em>",""
word.study[grep("lemma_definition",word.study)+1],
lookup <- function(word,lang) {
word.study <- readLines(paste("http://www.perseus.tufts.edu/hopper/morph?l=",word,"&la=",lang,sep=""))
substring(paste(
gsub("\t\t","",
gsub("<em>[definition unavailable]</em>","",
word.study[grep("lemma_definition",word.study)+1],
fixed=T)),
collapse=" ; "),1,100) }
lookup.grk <- function(...) { lookup(...,lang="greek") }
lookup.ltn <- function(...) { lookup(...,lang="la") }
my.lookup <- function(my.words,lang) {
my.defs <- data.frame("WORD"=my.words,"DEFINITION"=0,stringsAsFactors=F)
for (i in 1:length(my.words)) {
my.defs[i,"DEFINITION"] <- lookup(my.words[i],lang) }
print(my.defs) }
my.lookup.grk <- function(...) { my.lookup(...,lang="greek") }
my.lookup.ltn <- function(...) { my.lookup(...,lang="la") }
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
Plutarch! <- my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
Plutarch <- my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
Plutarch
Plutarch
Plutarch
Plutarch
rm(Plutarch)
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
my.lookup.grk(readLines("C:/Users/jtcohen6/Dropbox/School/Penn/2015C Fall/Grek 309 (Plutarch)/Words x3.txt"))
q()
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
URL <- paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",month,"+",day,"+",year,"&num=1",sep="")
print(URL) }
INX("11/15/2013")
readLines(INX("11/15/2013"))
INX("11/15/2013")
y <- INX("11/15/2013")
readLines(y)
INX("11/15/2013")
readLines(INX("11/15/2013"))
readLines(INX("11/15/2013"))[539]
readLines(INX("11/15/2013"))[1]
readLines(INX("11/15/2013"))
grep("td class",readLines(INX("11/15/2013")))
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
URL <- paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",month,"+",day,"+",year,"&num=1",sep="")
grep("td class",readLines(URL)) }
grep("td class",readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1"))
grep(table class="gf-table historical_price",readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1"))
grep(table class="gf-table historical_price",readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1"))
grep("gf-table historical_price",readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1"))
y <- readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1"))
y <- readLines("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=November+15+2013&num=1")
grep("gf-table historical_price",y)+12
y[grep("gf-table historical_price",y)+12]
y[grep("gf-table historical_price",y)+13]
y[x+2:x+8]
x <- grep("gf-table historical_price",y)
y[x]
y[x:x+15]
c(y[x:x+15])
for (i in 2:7) {print(y[x+i])}
date.INX <- data.frame()
date.INX[1,] <- for (i in 2:7) {y[x+i]}
date.INX[2,] <- for (j in 9:14) {y[x+i]}
for (i in 2:7) {date.INX[1,] <- y[x+i]}
for (j in 9:14) {date.INX[2,] <- y[x+i]}
date.INX
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
URL <- paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",month,"+",day,"+",year,"&num=1",sep="")
site <- readLines(URL)
close <- site[grep("gf-table historical_price",site)+13]}
INX("12/4/2009")
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
URL <- paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",month,"+",day,"+",year,"&num=1",sep="")
site <- readLines(URL)
close <- site[grep("gf-table historical_price",site)+13]
print(close)}
INX("12/4/2009")
gsub("[^<>]",,<td class=\"rgt\">1,105.98")
gsub("[^<>]",,"<td class=\"rgt\">1,105.98")
gsub("[^<>]","","<td class=\"rgt\">1,105.98")
gsub("[:digit:],.","","<td class=\"rgt\">1,105.98")
gsub("^[:digit:],.","","<td class=\"rgt\">1,105.98")
gsub("^[:digit:]","","<td class=\"rgt\">1,105.98")
gsub("[^[:digit:]]","","<td class=\"rgt\">1,105.98")
gsub("[^[:digit:],.]","","<td class=\"rgt\">1,105.98")
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
site <- readLines(paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",
month,"+",day,"+",year,"&num=1",sep=""))
close <- gsub("[^[:digit:],.]","",site[grep("gf-table historical_price",site)+13])
print(close)}
INX("12/4/2009")
getwd()
print("EPHE", "EWM", "TLTE", "HEEM", "ERUS", "PIE", "BKF", "SCIF", "GMM", "DVYE", "EELV", "BBRC", "EPOL", "DBEM", "ADRE", "FEM", "IDX",
"EEMS", "EMFM", "QEMM", "EEB", "BIK", "SMIN", "AFK", "QAT", "VWO", "EEM", "IEMG", "INDA", "EEMV", "RSX", "EPI", "SCHE", "DEM", "DGS", "INDY",
"GEM", "FM", "PIN", "VNM", "FNDE", "EWX", "AIA", "TUR", "PXH", "EIDO", "INP", "EZA", "EDIV", "THD", "DGRE", "FRN", "GUR", "JPEM", "RSXJ",
"GAF", "UAE", "GULF", "EGPT", "SCIN", "FEMS", "RBL", "ROAM", "NGE", "HILO", "PLND", "EMDD", "EMCG", "ASEA", "EMQQ", "EWEM", "BICK", "EDOG",
"MES", "IDXJ", "PAK", "QEM", "EMCR", "QDEM", "KSA", "EMFT", "KLEM", "EMGF", "SDEM", "AZIA", "EMSD", "TLEH", "EMBB", "HDEE", "KEMP", "XSOE",
"EEHB", "XCEM", "HEMV")
print(c("EPHE", "EWM", "TLTE", "HEEM", "ERUS", "PIE", "BKF", "SCIF", "GMM", "DVYE", "EELV", "BBRC", "EPOL", "DBEM", "ADRE", "FEM", "IDX",
"EEMS", "EMFM", "QEMM", "EEB", "BIK", "SMIN", "AFK", "QAT", "VWO", "EEM", "IEMG", "INDA", "EEMV", "RSX", "EPI", "SCHE", "DEM", "DGS", "INDY",
"GEM", "FM", "PIN", "VNM", "FNDE", "EWX", "AIA", "TUR", "PXH", "EIDO", "INP", "EZA", "EDIV", "THD", "DGRE", "FRN", "GUR", "JPEM", "RSXJ",
"GAF", "UAE", "GULF", "EGPT", "SCIN", "FEMS", "RBL", "ROAM", "NGE", "HILO", "PLND", "EMDD", "EMCG", "ASEA", "EMQQ", "EWEM", "BICK", "EDOG",
"MES", "IDXJ", "PAK", "QEM", "EMCR", "QDEM", "KSA", "EMFT", "KLEM", "EMGF", "SDEM", "AZIA", "EMSD", "TLEH", "EMBB", "HDEE", "KEMP", "XSOE",
"EEHB", "XCEM", "HEMV"))
paste(em_etfs,collapse=",")
em_etfs <- c("EPHE", "EWM", "TLTE", "HEEM", "ERUS", "PIE", "BKF", "SCIF", "GMM", "DVYE", "EELV", "BBRC", "EPOL", "DBEM", "ADRE", "FEM", "IDX",
"EEMS", "EMFM", "QEMM", "EEB", "BIK", "SMIN", "AFK", "QAT", "VWO", "EEM", "IEMG", "INDA", "EEMV", "RSX", "EPI", "SCHE", "DEM", "DGS", "INDY",
"GEM", "FM", "PIN", "VNM", "FNDE", "EWX", "AIA", "TUR", "PXH", "EIDO", "INP", "EZA", "EDIV", "THD", "DGRE", "FRN", "GUR", "JPEM", "RSXJ",
"GAF", "UAE", "GULF", "EGPT", "SCIN", "FEMS", "RBL", "ROAM", "NGE", "HILO", "PLND", "EMDD", "EMCG", "ASEA", "EMQQ", "EWEM", "BICK", "EDOG",
"MES", "IDXJ", "PAK", "QEM", "EMCR", "QDEM", "KSA", "EMFT", "KLEM", "EMGF", "SDEM", "AZIA", "EMSD", "TLEH", "EMBB", "HDEE", "KEMP", "XSOE",
"EEHB", "XCEM", "HEMV"))
paste(em_etfs,collapse=",")
em_etfs <- c("EPHE", "EWM", "TLTE", "HEEM", "ERUS", "PIE", "BKF", "SCIF", "GMM", "DVYE", "EELV", "BBRC", "EPOL", "DBEM", "ADRE", "FEM", "IDX",
"EEMS", "EMFM", "QEMM", "EEB", "BIK", "SMIN", "AFK", "QAT", "VWO", "EEM", "IEMG", "INDA", "EEMV", "RSX", "EPI", "SCHE", "DEM", "DGS", "INDY",
"GEM", "FM", "PIN", "VNM", "FNDE", "EWX", "AIA", "TUR", "PXH", "EIDO", "INP", "EZA", "EDIV", "THD", "DGRE", "FRN", "GUR", "JPEM", "RSXJ",
"GAF", "UAE", "GULF", "EGPT", "SCIN", "FEMS", "RBL", "ROAM", "NGE", "HILO", "PLND", "EMDD", "EMCG", "ASEA", "EMQQ", "EWEM", "BICK", "EDOG",
"MES", "IDXJ", "PAK", "QEM", "EMCR", "QDEM", "KSA", "EMFT", "KLEM", "EMGF", "SDEM", "AZIA", "EMSD", "TLEH", "EMBB", "HDEE", "KEMP", "XSOE",
"EEHB", "XCEM", "HEMV")
paste(em_etfs,collapse=",")
site <- "https://test3.blackrock.com/tools/api-tester/hackathon?apiType=securityData&identifiers=EPHE,EWM,TLTE,HEEM,ERUS,PIE,BKF,SCIF,GMM,DVYE,EELV,BBRC,EPOL,DBEM,ADRE,FEM,IDX,EEMS,EMFM,QEMM,EEB,BIK,SMIN,AFK,QAT,VWO,EEM,IEMG,INDA,EEMV,RSX,EPI,SCHE,DEM,DGS,INDY,GEM,FM,PIN,VNM,FNDE,EWX,AIA,TUR,PXH,EIDO,INP,EZA,EDIV,THD,DGRE,FRN,GUR,JPEM,RSXJ,GAF,UAE,GULF,EGPT,SCIN,FEMS,RBL,ROAM,NGE,HILO,PLND,EMDD,EMCG,ASEA,EMQQ,EWEM,BICK,EDOG,MES,IDXJ,PAK,QEM,EMCR,QDEM,KSA,EMFT,KLEM,EMGF,SDEM,AZIA,EMSD,TLEH,EMBB,HDEE,KEMP,XSOE,EEHB,XCEM,HEMV&queryField=assetClass&showAdvancedParams=true&statsFieldsDistinct=true&useCache=false"
quit()
INX <- function(date="11/16/2007") {
date.spl <- strsplit(date,"/")[[1]]
month <- month.name[as.numeric(date.spl[1])]
day <- date.spl[2]
year <- date.spl[3]
site <- readLines(paste("https://www.google.com/finance/historical?cid=626307&startdate=Nov+16+2007&enddate=",
month,"+",day,"+",year,"&num=1",sep=""),warn=F)
close <- gsub("[^[:digit:],.]","",site[grep("gf-table historical_price",site)+13])
close }
INXs <- function(dates) {
table <- data.frame("DATE"=0,".INX"=0)
for (i in 1:length(dates)) {
table[i,1] <- dates[i]
table[i,2] <- INX(dates[i])
}
table }
dates <- c(
c("12/5/2009","12/6/2009","12/7/2009"),
c("12/5/2010","12/6/2010","12/7/2010"),
c("12/5/2011","12/6/2011","12/7/2011")
)
INXs(dates)
## NEWS ANALYTICS ## FINANCIAL TIMES ##
## PennApps XIII, Jeremy & Raghav (& Gus)
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
ftimes21494 <- readLines("ftimes21494.txt") # dataset
n <- 21494 # number of articles
search_ftimes <- function(start,end) { ftimes21494[start:end] } # search function
art_end <- grep("Document FT|Document EP|Document AI",ftimes21494) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
ftimes_art <- function(art_num) { search_ftimes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
ftimes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- ftimes_art(i)
WC_line <- grep("^WC \t", art)
ftimes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
ftimes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(ftimes.tbl) # check my work
ftimes.tbl.basic <- ftimes.tbl # backup basic table (just in case!)
## the search engine
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, ftimes_art(i))) }
new.col <- ncol(ftimes.tbl)+1
ftimes.tbl[,new.col] <<- findings
names(ftimes.tbl)[new.col] <<- string
str(ftimes.tbl) }
View(ftimes.tbl)
ftimes.tbl <- ftimes.tbl.basic # reset as needed
write.csv(ftimes.tbl, "ftimes.csv")
## NEWS ANALYTICS ## FORBES ##
## PennApps XIII, Jeremy & Raghav (& Gus)
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
forbes1220 <- readLines("forbes1220.ansi.txt") # dataset
n <- 1220 # number of articles
search_forbes <- function(start,end) { forbes1220[start:end] } # search function
art_end <- grep("Document FB|Document NA|Document FF",forbes1220) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
forbes_art <- function(art_num) { search_forbes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
forbes.tbl.basic <- forbes.tbl # backup basic table (just in case!)
## the search engine
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
View(forbes.tbl)
forbes.tbl <- forbes.tbl.basic # reset as needed
write.csv(ftimes.tbl, "ftimes.csv")
## NEWS ANALYTICS ## FORBES ##
## PennApps XIII, Jeremy & Raghav (& Gus)
rm(list=ls())
dir <- "C:\\Users\\jtcohen6\\Documents\\buckfitches\\news data"
setwd(dir)
forbes1220 <- readLines("forbes1220.ansi.txt") # dataset
n <- 1220 # number of articles
search_forbes <- function(start,end) { forbes1220[start:end] } # search function
art_end <- grep("Document FB|Document NA|Document FF",forbes1220) # ending line
art_start <- c(15,art_end[-n]+1) # starting line, based on ending line
forbes_art <- function(art_num) { search_forbes( art_start[art_num], art_end[art_num] ) }
## instantiate table, with article number (ID), starting line, ending line
forbes.tbl <- data.frame("ART_NUM"=c(1:n),"ART_START"=art_start[1:n],
"ART_END"=art_end[1:n],"WORDS"=0,"DATE"=0)
## get word count and date (next line) for each article and add to table
for (i in 1:n) {
art <- forbes_art(i)
WC_line <- grep("words$", art)
forbes.tbl[i,"WORDS"] <- as.numeric(gsub("[^[:digit:]]","",art[WC_line]))
date <- strsplit(gsub("PD \t","",art[WC_line + 1])," ")[[1]]
forbes.tbl[i,"DATE"] <- as.Date(
paste(grep(date[2],month.name),"/",date[1],"/",date[3],sep=""),"%m/%d/%y")
}
str(forbes.tbl) # check my work
forbes.tbl.basic <- forbes.tbl # backup basic table (just in case!)
## the search engine
findings <- rep(0,times=n) # initialize temp vector
keyword <- function(string) {
for (i in 1:n) { findings[i] <- sum(grepl(string, forbes_art(i))) }
new.col <- ncol(forbes.tbl)+1
forbes.tbl[,new.col] <<- findings
names(forbes.tbl)[new.col] <<- string
str(forbes.tbl) }
View(forbes.tbl)
forbes.tbl <- forbes.tbl.basic # reset as needed
write.csv(forbes.tbl, "forbes.csv")
q()
